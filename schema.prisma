// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        Int       @id @default(autoincrement())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  createdAt DateTime? @default(now())
  apps      App[]     @relation("App_owner")
}

model App {
  id                        Int      @id @default(autoincrement())
  name                      String   @default("")
  description               String   @default("")
  releaseTime               DateTime @updatedAt
  owner                     User?    @relation("App_owner", fields: [ownerId], references: [id])
  ownerId                   Int?     @map("owner")
  type                      Type?    @relation("App_type", fields: [typeId], references: [id])
  typeId                    Int?     @map("type")
  status                    String?  @default("draft")
  apk_filesize              Int?
  apk_filename              String?
  logo_filesize             Int?
  logo_extension            String?
  logo_width                Int?
  logo_height               Int?
  logo_id                   String?
  showStatusBar             Boolean  @default(false)
  supportHorizontalKeyboard Boolean  @default(true)
  versionName               String   @default("")
  versionCode               Int?
  packageName               String   @default("")

  @@index([ownerId])
  @@index([typeId])
}

model Type {
  id         Int       @id @default(autoincrement())
  name       String    @default("")
  apps       App[]     @relation("App_type")
  createTime DateTime? @default(now())
  updateTime DateTime  @updatedAt
}
